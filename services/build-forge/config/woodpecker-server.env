# =============================================================================
# System 35 â€” Build Forge (Woodpecker CI) Server Configuration
# Omni Quantum Elite AI Coding System
# =============================================================================

# --- Server ---
WOODPECKER_HOST=http://omni-woodpecker-server:8000
WOODPECKER_SERVER_ADDR=:8000
WOODPECKER_GRPC_ADDR=:9000
WOODPECKER_LOG_LEVEL=info
WOODPECKER_LOG_FORMAT=json

# --- Gitea Integration ---
WOODPECKER_GITEA=true
WOODPECKER_GITEA_URL=http://omni-gitea:3000
WOODPECKER_GITEA_CLIENT=from_vault
WOODPECKER_GITEA_SECRET=from_vault
WOODPECKER_GITEA_SKIP_VERIFY=false

# --- Agent Authentication ---
WOODPECKER_AGENT_SECRET=from_vault

# --- Database ---
WOODPECKER_DATABASE_DRIVER=postgres
WOODPECKER_DATABASE_DATASOURCE=postgres://woodpecker:password@omni-postgres:5432/woodpecker?sslmode=disable

# --- Administration ---
WOODPECKER_ADMIN=brendan
WOODPECKER_AUTHENTICATE_PUBLIC_REPOS=false
WOODPECKER_DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS=push
WOODPECKER_DEFAULT_CLONE_IMAGE=woodpeckerci/plugin-git:2.5.2

# --- Pipeline Limits ---
WOODPECKER_MAX_PROCS=2
WOODPECKER_DEFAULT_PIPELINE_TIMEOUT=60
WOODPECKER_HTTP_TIMEOUT=30

# --- Metrics & Observability ---
WOODPECKER_METRICS_SERVER_ADDR=:9100
WOODPECKER_PROMETHEUS_AUTH_TOKEN=from_vault

# --- Secrets Backend (Vault) ---
WOODPECKER_ADDON_FORGE=
WOODPECKER_ENVIRONMENT=VAULT_ADDR:http://omni-vault:8200,VAULT_TOKEN:from_vault

# --- Network & Security ---
WOODPECKER_NETWORK=omni-quantum-network
WOODPECKER_ESCALATE=plugins/docker,plugins/gcr,plugins/ecr
WOODPECKER_TRUSTED_CLONE_PLUGINS=woodpeckerci/plugin-git
