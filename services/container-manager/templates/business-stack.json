{
  "name": "business-stack",
  "description": "Systems 14,18-24: Mattermost, Gitea, Qdrant, n8n, Wiki.js, NocoDB, Appsmith, Plane",
  "categories": ["business", "collaboration"],
  "compose": "version: '3.8'\n\nservices:\n  # System 14 — Mattermost\n  omni-mattermost:\n    image: mattermost/mattermost-team-edition:latest\n    container_name: omni-mattermost\n    restart: unless-stopped\n    environment:\n      MM_SQLSETTINGS_DRIVERNAME: postgres\n      MM_SQLSETTINGS_DATASOURCE: postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@omni-postgres:5432/mattermost?sslmode=disable\n      MM_SERVICESETTINGS_SITEURL: https://chat.omni-quantum.internal\n    volumes:\n      - mattermost-data:/mattermost/data\n      - mattermost-config:/mattermost/config\n    ports:\n      - '8065:8065'\n    labels:\n      omni_quantum_component: mattermost\n      omni_quantum_tier: standard\n      omni_quantum_system: '14'\n      omni_quantum_stack: business\n    healthcheck:\n      test: ['CMD', 'curl', '-f', 'http://localhost:8065/api/v4/system/ping']\n      interval: 30s\n      timeout: 10s\n      retries: 3\n    networks:\n      - omni-quantum-network\n\n  # System 18 — Gitea\n  omni-gitea:\n    image: gitea/gitea:latest\n    container_name: omni-gitea\n    restart: unless-stopped\n    environment:\n      GITEA__database__DB_TYPE: postgres\n      GITEA__database__HOST: omni-postgres:5432\n      GITEA__database__NAME: gitea\n      GITEA__database__USER: ${POSTGRES_USER}\n      GITEA__database__PASSWD: ${POSTGRES_PASSWORD}\n    volumes:\n      - gitea-data:/data\n    ports:\n      - '3030:3000'\n      - '2222:22'\n    labels:\n      omni_quantum_component: gitea\n      omni_quantum_tier: high\n      omni_quantum_system: '18'\n      omni_quantum_stack: business\n    healthcheck:\n      test: ['CMD', 'curl', '-f', 'http://localhost:3000/api/v1/version']\n      interval: 30s\n      timeout: 10s\n      retries: 3\n    networks:\n      - omni-quantum-network\n\n  # System 20 — Qdrant\n  omni-qdrant:\n    image: qdrant/qdrant:latest\n    container_name: omni-qdrant\n    restart: unless-stopped\n    volumes:\n      - qdrant-data:/qdrant/storage\n    ports:\n      - '6333:6333'\n      - '6334:6334'\n    labels:\n      omni_quantum_component: qdrant\n      omni_quantum_tier: high\n      omni_quantum_system: '20'\n      omni_quantum_stack: business\n    healthcheck:\n      test: ['CMD', 'curl', '-f', 'http://localhost:6333/healthz']\n      interval: 15s\n      timeout: 5s\n      retries: 3\n    networks:\n      - omni-quantum-network\n\n  # System 21 — n8n\n  omni-n8n:\n    image: n8nio/n8n:latest\n    container_name: omni-n8n\n    restart: unless-stopped\n    environment:\n      DB_TYPE: postgresdb\n      DB_POSTGRESDB_HOST: omni-postgres\n      DB_POSTGRESDB_PORT: '5432'\n      DB_POSTGRESDB_DATABASE: n8n\n      DB_POSTGRESDB_USER: ${POSTGRES_USER}\n      DB_POSTGRESDB_PASSWORD: ${POSTGRES_PASSWORD}\n      N8N_ENCRYPTION_KEY: ${N8N_ENCRYPTION_KEY}\n    volumes:\n      - n8n-data:/home/node/.n8n\n    ports:\n      - '5678:5678'\n    labels:\n      omni_quantum_component: n8n\n      omni_quantum_tier: standard\n      omni_quantum_system: '21'\n      omni_quantum_stack: business\n    healthcheck:\n      test: ['CMD', 'curl', '-f', 'http://localhost:5678/healthz']\n      interval: 30s\n      timeout: 10s\n      retries: 3\n    networks:\n      - omni-quantum-network\n\n  # System 22 — Wiki.js\n  omni-wikijs:\n    image: ghcr.io/requarks/wiki:2\n    container_name: omni-wikijs\n    restart: unless-stopped\n    environment:\n      DB_TYPE: postgres\n      DB_HOST: omni-postgres\n      DB_PORT: '5432'\n      DB_NAME: wikijs\n      DB_USER: ${POSTGRES_USER}\n      DB_PASS: ${POSTGRES_PASSWORD}\n    ports:\n      - '3040:3000'\n    labels:\n      omni_quantum_component: wikijs\n      omni_quantum_tier: standard\n      omni_quantum_system: '22'\n      omni_quantum_stack: business\n    healthcheck:\n      test: ['CMD', 'curl', '-f', 'http://localhost:3000/healthz']\n      interval: 30s\n      timeout: 10s\n      retries: 3\n    networks:\n      - omni-quantum-network\n\n  # System 23 — NocoDB\n  omni-nocodb:\n    image: nocodb/nocodb:latest\n    container_name: omni-nocodb\n    restart: unless-stopped\n    environment:\n      NC_DB: pg://omni-postgres:5432?u=${POSTGRES_USER}&p=${POSTGRES_PASSWORD}&d=nocodb\n    volumes:\n      - nocodb-data:/usr/app/data\n    ports:\n      - '8080:8080'\n    labels:\n      omni_quantum_component: nocodb\n      omni_quantum_tier: standard\n      omni_quantum_system: '23'\n      omni_quantum_stack: business\n    networks:\n      - omni-quantum-network\n\n  # System 24 — Plane\n  omni-plane:\n    image: makeplane/plane-ce:latest\n    container_name: omni-plane\n    restart: unless-stopped\n    environment:\n      DATABASE_URL: postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@omni-postgres:5432/plane\n      REDIS_URL: redis://:${REDIS_PASSWORD}@omni-redis:6379/3\n    ports:\n      - '8070:80'\n    labels:\n      omni_quantum_component: plane\n      omni_quantum_tier: standard\n      omni_quantum_system: '24'\n      omni_quantum_stack: business\n    networks:\n      - omni-quantum-network\n\nvolumes:\n  mattermost-data:\n  mattermost-config:\n  gitea-data:\n  qdrant-data:\n  n8n-data:\n  nocodb-data:\n\nnetworks:\n  omni-quantum-network:\n    external: true\n"
}
