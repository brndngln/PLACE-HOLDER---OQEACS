APP_NAME = Omni Quantum Code Fortress
RUN_MODE = prod
RUN_USER = git

[server]
DOMAIN = git.omni-quantum.internal
ROOT_URL = https://%(DOMAIN)s/git/
HTTP_PORT = 3000
SSH_DOMAIN = git.omni-quantum.internal
SSH_PORT = 2222
SSH_LISTEN_PORT = 2222
LFS_START_SERVER = true
LFS_JWT_SECRET =
OFFLINE_MODE = false

[database]
DB_TYPE = postgres
HOST = omni-postgres:5432
NAME = gitea
USER = gitea
PASSWD = %(GITEA_DB_PASSWORD)s
SSL_MODE = disable
LOG_SQL = false
CHARSET = utf8mb4

[security]
INSTALL_LOCK = true
SECRET_KEY = %(GITEA_SECRET_KEY)s
INTERNAL_TOKEN = %(GITEA_INTERNAL_TOKEN)s
MIN_PASSWORD_LENGTH = 12
PASSWORD_COMPLEXITY = lower,upper,digit,spec

[service]
DISABLE_REGISTRATION = true
REQUIRE_SIGNIN_VIEW = true
DEFAULT_KEEP_EMAIL_PRIVATE = true
DEFAULT_ORG_VISIBILITY = private
DEFAULT_ORG_MEMBER_VISIBLE = true
ENABLE_NOTIFY_MAIL = false

[repository]
DEFAULT_BRANCH = main
MAX_CREATION_LIMIT = -1
PREFERRED_LICENSES = MIT,Apache-2.0

[repository.upload]
FILE_MAX_SIZE = 100
MAX_FILES = 20

[lfs]
STORAGE_TYPE = minio
MINIO_ENDPOINT = omni-minio:9000
MINIO_ACCESS_KEY_ID = %(MINIO_ACCESS_KEY)s
MINIO_SECRET_ACCESS_KEY = %(MINIO_SECRET_KEY)s
MINIO_BUCKET = gitea-lfs
MINIO_LOCATION = us-east-1
MINIO_USE_SSL = false

[cache]
ADAPTER = redis
HOST = redis://omni-redis:6379/3?pool_size=100
ITEM_TTL = 16h

[session]
PROVIDER = redis
PROVIDER_CONFIG = redis://omni-redis:6379/4?pool_size=100

[queue]
TYPE = redis
CONN_STR = redis://omni-redis:6379/5

[webhook]
ALLOWED_HOST_LIST = omni-n8n,omni-woodpecker-server,omni-orchestrator,*.omni-quantum-network
DELIVER_TIMEOUT = 10

[oauth2]
ENABLED = true
JWT_SECRET =

[log]
MODE = console
LEVEL = info
ROOT_PATH = /dev/stdout
ENABLE_ACCESS_LOG = true

[metrics]
ENABLED = true
TOKEN =

[mailer]
ENABLED = false

[openid]
ENABLE_OPENID_SIGNIN = false

[api]
ENABLE_SWAGGER = true
MAX_RESPONSE_ITEMS = 200
